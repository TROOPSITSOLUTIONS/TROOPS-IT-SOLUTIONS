<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>DEVELOPMENT TOOLS | TEAM BCT</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600;800;900&family=Rajdhani:wght@400;600;700&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* =========================================
           CORE SYSTEM (OMEGA PROTOCOL - CLASSIC UI)
           ========================================= */
        :root {
            --primary: #ff0033;
            --primary-dim: rgba(255, 0, 51, 0.1);
            --primary-glow: rgba(255, 0, 51, 0.4);
            --safe: #00ffcc;
            --warn: #ffcc00;
            --bg: #050505;
            --panel: #0e0e10;
            --text: #ffffff;
            --border: rgba(255, 255, 255, 0.15);
            
            --font-head: 'Orbitron', sans-serif;
            --font-body: 'Rajdhani', sans-serif;
            --font-code: 'JetBrains Mono', monospace;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; outline: none; -webkit-tap-highlight-color: transparent; }
        
        body {
            background-color: var(--bg);
            color: var(--text);
            font-family: var(--font-body);
            min-height: 100vh;
            display: flex; flex-direction: column;
            align-items: center;
            overflow-x: hidden;
            background-image: radial-gradient(circle at center, #1a0000 0%, #000000 100%);
        }

        /* HEADER */
        header {
            width: 100%; max-width: 800px; height: 75px;
            display: flex; justify-content: space-between; align-items: center;
            padding: 0 20px; border-bottom: 1px solid var(--border);
            background: rgba(10,10,10,0.95); position: sticky; top: 0; z-index: 100;
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 30px rgba(255,0,51,0.1);
        }
        .brand { font-family: var(--font-head); font-weight: 800; font-size: 20px; letter-spacing: 1px; }
        .brand span { color: var(--primary); }
        .sys-stat { font-family: var(--font-code); font-size: 11px; color: var(--safe); border: 1px solid var(--safe); padding: 4px 8px; border-radius: 4px; }

        /* WRAPPER */
        .wrapper {
            width: 100%; max-width: 800px; padding: 20px;
            flex: 1; display: flex; flex-direction: column; position: relative;
        }

        /* DASHBOARD GRID */
        .dashboard { display: block; animation: fadeIn 0.4s ease-out; padding-bottom: 50px; }
        .hidden { display: none !important; }

        .sec-title {
            font-family: var(--font-head); font-size: 14px; color: var(--primary);
            margin: 30px 0 15px 0; letter-spacing: 1px; border-bottom: 1px solid #333;
            padding-bottom: 8px; display: flex; align-items: center; gap: 10px;
        }

        .tools-grid {
            display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px;
        }

        .tool-btn {
            background: var(--panel); border: 1px solid var(--border);
            border-radius: 6px; padding: 15px 5px; text-align: center;
            cursor: pointer; transition: 0.2s; position: relative; overflow: hidden;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            height: 95px;
        }
        .tool-btn:hover { border-color: var(--primary); background: var(--primary-dim); transform: translateY(-2px); }
        .tool-btn i { font-size: 24px; color: #ccc; margin-bottom: 10px; transition: 0.2s; }
        .tool-btn span { font-size: 10px; font-weight: 700; color: #777; font-family: var(--font-head); display: block; line-height: 1.2; text-transform: uppercase; }
        .tool-btn:hover i { color: var(--primary); }
        .tool-btn:hover span { color: #fff; }
        
        /* INTERFACE STYLES */
        .tool-interface {
            display: none; flex-direction: column; gap: 15px;
            animation: slideUp 0.3s ease-out; width: 100%;
        }
        .tool-interface.active { display: flex; }

        .back-bar {
            display: flex; align-items: center; gap: 10px; cursor: pointer;
            color: #888; font-size: 13px; margin-bottom: 5px;
            padding: 12px; border: 1px solid #333; border-radius: 6px; background: #080808;
            transition: 0.3s;
        }
        .back-bar:hover { color: var(--primary); border-color: var(--primary); }

        .interface-card {
            background: var(--panel); border: 1px solid var(--border);
            border-radius: 12px; padding: 20px; text-align: center;
            box-shadow: 0 10px 50px rgba(0,0,0,0.5); display: flex; flex-direction: column; gap: 15px;
        }

        .action-bar {
            display: flex; gap: 10px; justify-content: flex-end; margin-bottom: 5px;
        }
        .mini-btn {
            background: #222; border: 1px solid #444; color: #aaa; padding: 5px 10px;
            font-size: 10px; border-radius: 4px; cursor: pointer; font-family: var(--font-code);
        }
        .mini-btn:hover { color: #fff; border-color: #666; }

        .cyber-textarea {
            width: 100%; background: #000; border: 1px solid #333;
            padding: 15px; color: #a9b7c6; font-size: 13px; line-height: 1.5;
            font-family: var(--font-code); border-radius: 6px; transition: 0.3s;
            min-height: 180px; resize: vertical; white-space: pre; overflow: auto;
        }
        .cyber-textarea:focus { border-color: var(--primary); outline: none; }
        .cyber-textarea.output { border-left: 3px solid var(--primary); color: var(--safe); }

        .action-btn {
            width: 100%; padding: 16px; background: var(--primary);
            color: #fff; border: none; font-family: var(--font-head);
            font-weight: 700; font-size: 16px; letter-spacing: 2px;
            cursor: pointer; clip-path: polygon(4% 0, 100% 0, 100% 70%, 96% 100%, 0 100%, 0 30%);
            transition: 0.3s; text-transform: uppercase;
        }
        .action-btn:hover { box-shadow: 0 0 25px var(--primary-glow); transform: translateY(-2px); }

        .status-msg {
            font-family: var(--font-code); font-size: 11px; color: #666; margin-top: 5px;
            text-align: left; display: block;
        }
        .status-msg.error { color: var(--primary); }
        .status-msg.success { color: var(--safe); }

        footer {
            text-align: center;
            padding: 40px 20px;
            font-family: 'Orbitron', sans-serif;
            font-size: 0.65rem;
            letter-spacing: 1.5px;
            color: #555;
        }

        footer strong {
    color: var(--primary);
    text-shadow: 0 0 10px var(--primary-glow);
}
        @keyframes fadeIn { from{opacity:0; transform: translateY(10px);} to{opacity:1; transform: translateY(0);} }
        @keyframes slideUp { from{transform:translateY(20px);opacity:0} to{transform:translateY(0);opacity:1} }
    </style>
</head>
<body>

    <header>
        <div class="brand">DEV <span>TOOLS</span></div>
        <div class="sys-stat">V.5.0 STABLE</div>
    </header>

    <div class="wrapper">
        
        <div id="dashboard" class="dashboard">
            
            <div class="sec-title"><i class="fas fa-code"></i> JSON MASTER</div>
            <div class="tools-grid">
                <div class="tool-btn" onclick="loadTool('viewer')"><i class="fas fa-eye"></i><span>Viewer</span></div>
                <div class="tool-btn" onclick="loadTool('format')"><i class="fas fa-align-left"></i><span>Format</span></div>
                <div class="tool-btn" onclick="loadTool('validate')"><i class="fas fa-check-double"></i><span>Validate</span></div>
                <div class="tool-btn" onclick="loadTool('minify')"><i class="fas fa-compress-arrows-alt"></i><span>Minify</span></div>
                <div class="tool-btn" onclick="loadTool('editor')"><i class="fas fa-edit"></i><span>Editor</span></div>
            </div>

            <div class="sec-title"><i class="fas fa-exchange-alt"></i> CONVERTERS (FROM JSON)</div>
            <div class="tools-grid">
                <div class="tool-btn" onclick="loadTool('j2xml')"><i class="fas fa-file-code"></i><span>To XML</span></div>
                <div class="tool-btn" onclick="loadTool('j2csv')"><i class="fas fa-file-csv"></i><span>To CSV</span></div>
                <div class="tool-btn" onclick="loadTool('j2tsv')"><i class="fas fa-table"></i><span>To TSV</span></div>
                <div class="tool-btn" onclick="loadTool('j2yaml')"><i class="fas fa-layer-group"></i><span>To YAML</span></div>
            </div>

            <div class="sec-title"><i class="fas fa-random"></i> CONVERTERS (TO JSON)</div>
            <div class="tools-grid">
                <div class="tool-btn" onclick="loadTool('x2j')"><i class="fas fa-code"></i><span>XML 2 JSON</span></div>
                <div class="tool-btn" onclick="loadTool('c2j')"><i class="fas fa-file-csv"></i><span>CSV 2 JSON</span></div>
                <div class="tool-btn" onclick="loadTool('t2j')"><i class="fas fa-table"></i><span>TSV 2 JSON</span></div>
            </div>

            <div class="sec-title"><i class="fas fa-wrench"></i> WEB UTILS</div>
            <div class="tools-grid">
                <div class="tool-btn" onclick="loadTool('url_enc')"><i class="fas fa-link"></i><span>URL Enc</span></div>
                <div class="tool-btn" onclick="loadTool('url_dec')"><i class="fas fa-unlink"></i><span>URL Dec</span></div>
                <div class="tool-btn" onclick="loadTool('b64_enc')"><i class="fas fa-lock"></i><span>B64 Enc</span></div>
                <div class="tool-btn" onclick="loadTool('b64_dec')"><i class="fas fa-lock-open"></i><span>B64 Dec</span></div>
            </div>

        </div>

        <div id="toolInterface" class="tool-interface">
            <div class="back-bar" onclick="closeTool()">
                <i class="fas fa-arrow-left"></i> RETURN TO DASHBOARD
            </div>
            
            <div class="interface-card">
                <div style="display:flex; justify-content:space-between; align-items:center">
                    <h2 id="toolHeader" style="font-family:var(--font-head); font-size:16px; color:#fff; text-transform:uppercase;">TOOL</h2>
                    <div class="action-bar">
                        <button class="mini-btn" onclick="loadSample()">SAMPLE</button>
                        <button class="mini-btn" onclick="pasteClip()">PASTE</button>
                        <button class="mini-btn" onclick="clearAll()">CLEAR</button>
                    </div>
                </div>

                <div>
                    <div class="status-msg" style="margin-bottom:5px">INPUT</div>
                    <textarea id="inputArea" class="cyber-textarea" placeholder="Paste data here..."></textarea>
                </div>

                <button class="action-btn" onclick="runProcess()">EXECUTE</button>

                <div>
                    <div style="display:flex; justify-content:space-between;">
                        <div class="status-msg">OUTPUT</div>
                        <div id="statusReport" class="status-msg" style="text-align:right">Waiting...</div>
                    </div>
                    <textarea id="outputArea" class="cyber-textarea output" readonly placeholder="Result..."></textarea>
                    <button class="mini-btn" style="width:100%; margin-top:5px; border-color:var(--safe); color:var(--safe)" onclick="copyOutput()">COPY RESULT</button>
                </div>
            </div>
        </div>

    </div>

    <footer>
        <p>© 2026 <strong>BANGLADESH CYBER TROOPS</strong> | DEVELOPED BY <strong>TROOPS IT SOLUTIONS</strong></p>
    </footer>

    <script>
        // ==========================================
        // SYSTEM CORE
        // ==========================================
        let currentMode = '';
        const dashboard = document.getElementById('dashboard');
        const toolInterface = document.getElementById('toolInterface');
        const toolHeader = document.getElementById('toolHeader');
        const inputArea = document.getElementById('inputArea');
        const outputArea = document.getElementById('outputArea');
        const statusReport = document.getElementById('statusReport');

        const config = {
            'viewer':   { t: 'JSON VIEWER', s: '{"name":"BCT","status":"Active"}' },
            'format':   { t: 'JSON FORMATTER', s: '{"id":1,"data":[1,2,3]}' },
            'validate': { t: 'JSON VALIDATOR', s: '{"valid":true}' },
            'minify':   { t: 'JSON MINIFIER', s: '{\n  "dev": true\n}' },
            'editor':   { t: 'JSON EDITOR', s: '{"edit":"me"}' },
            'j2xml':    { t: 'JSON TO XML', s: '{"root":{"user":"Admin"}}' },
            'j2csv':    { t: 'JSON TO CSV', s: '[{"name":"Alice","age":25},{"name":"Bob","age":30}]' },
            'j2tsv':    { t: 'JSON TO TSV', s: '[{"a":"1","b":"2"}]' },
            'j2yaml':   { t: 'JSON TO YAML', s: '{"server":{"port":80}}' },
            'x2j':      { t: 'XML TO JSON', s: '<root><user>BCT</user></root>' },
            'c2j':      { t: 'CSV TO JSON', s: 'name,age\nAlice,25' },
            't2j':      { t: 'TSV TO JSON', s: 'name\tage\nAlice\t25' },
            'url_enc':  { t: 'URL ENCODE', s: 'https://example.com?q=hello world' },
            'url_dec':  { t: 'URL DECODE', s: 'https%3A%2F%2Fexample.com%3Fq%3Dhello%20world' },
            'b64_enc':  { t: 'BASE64 ENCODE', s: 'Hello BCT' },
            'b64_dec':  { t: 'BASE64 DECODE', s: 'SGVsbG8gQkNU' }
        };

        function loadTool(id) {
            currentMode = id;
            dashboard.classList.add('hidden');
            toolInterface.classList.add('active');
            toolHeader.innerText = config[id].t;
            inputArea.value = '';
            outputArea.value = '';
            statusReport.innerText = 'Ready';
            statusReport.className = 'status-msg';
            window.scrollTo(0,0);
        }

        function closeTool() {
            toolInterface.classList.remove('active');
            dashboard.classList.remove('hidden');
        }

        function clearAll() { inputArea.value = ''; outputArea.value = ''; report('Cleared', 'normal'); }
        function loadSample() { inputArea.value = config[currentMode].s; report('Sample Loaded', 'normal'); }
        async function pasteClip() { const t = await navigator.clipboard.readText(); inputArea.value = t; }
        function copyOutput() { 
            if(!outputArea.value) return; 
            outputArea.select(); document.execCommand('copy'); 
            report('Copied!', 'success'); 
        }

        function report(msg, type) {
            statusReport.innerText = msg;
            statusReport.className = 'status-msg ' + type;
        }

        // ==========================================
        // ENGINE LOGIC
        // ==========================================
        function runProcess() {
            const raw = inputArea.value.trim();
            if(!raw) { report('Input Empty', 'error'); return; }

            try {
                let res = '';
                
                switch(currentMode) {
                    // JSON TOOLS
                    case 'viewer':
                    case 'format':
                    case 'editor':
                        res = JSON.stringify(parseJSON(raw), null, 4); break;
                    case 'minify':
                        res = JSON.stringify(parseJSON(raw)); break;
                    case 'validate':
                        parseJSON(raw); res = "✅ Valid JSON.\nSize: " + raw.length + " bytes"; break;
                    
                    // CONVERTERS FROM JSON
                    case 'j2xml': res = jsonToXml(parseJSON(raw)); break;
                    case 'j2csv': res = jsonToCsv(parseJSON(raw), ','); break;
                    case 'j2tsv': res = jsonToCsv(parseJSON(raw), '\t'); break;
                    case 'j2yaml': res = jsonToYaml(parseJSON(raw)); break;

                    // CONVERTERS TO JSON
                    case 'x2j': res = JSON.stringify(xmlToJson(raw), null, 4); break;
                    case 'c2j': res = JSON.stringify(csvToJson(raw, ','), null, 4); break;
                    case 't2j': res = JSON.stringify(csvToJson(raw, '\t'), null, 4); break;

                    // WEB UTILS
                    case 'url_enc': res = encodeURIComponent(raw); break;
                    case 'url_dec': res = decodeURIComponent(raw); break;
                    case 'b64_enc': res = btoa(raw); break;
                    case 'b64_dec': res = atob(raw); break;
                }

                outputArea.value = res;
                report('Success', 'success');

            } catch (e) {
                outputArea.value = "ERROR:\n" + e.message;
                report('Failed', 'error');
            }
        }

        // --- HELPERS ---
        function parseJSON(s) { try{return JSON.parse(s)}catch(e){throw new Error("Invalid JSON Syntax")} }

        // Robust CSV/TSV Parser
        function csvToJson(csv, d) {
            const lines = csv.split(/\r?\n/).filter(l => l.trim());
            if(lines.length < 2) throw new Error("Need Header + Data");
            
            // Regex to match columns respecting quotes
            const re = new RegExp(`(?!\\s*$)\\s*(?:'([^']*)'|"([^"]*)"|([^${d}"'\\s\\\\]*(?:\\s+[^${d}"'\\s\\\\]+)*))\\s*(?:${d}|$)`, 'g');
            
            const parseLine = (l) => {
                const arr = []; let m;
                while((m = re.exec(l)) !== null) arr.push(m[1]||m[2]||m[3]||"");
                return arr;
            };
            
            const h = parseLine(lines[0]);
            return lines.slice(1).map(l => {
                const v = parseLine(l);
                return h.reduce((o,k,i) => { 
                    let val = v[i]||""; 
                    if(!isNaN(val) && val!=="") val=Number(val); 
                    o[k]=val; return o; 
                }, {});
            });
        }

        // JSON to CSV
        function jsonToCsv(json, d) {
            const arr = Array.isArray(json) ? json : [json];
            if(!arr.length) return '';
            const h = Object.keys(arr[0]);
            return [h.join(d), ...arr.map(r => h.map(k => `"${(r[k]||'').toString().replace(/"/g,'""')}"`).join(d))].join('\n');
        }

        // XML to JSON
        function xmlToJson(xml) {
            const parser = new DOMParser();
            const doc = parser.parseFromString(xml, "text/xml");
            if(doc.querySelector('parsererror')) throw new Error("Invalid XML");
            const parse = (n) => {
                if(n.nodeType===3) return n.nodeValue.trim();
                const o = {};
                if(n.childNodes.length===1 && n.childNodes[0].nodeType===3) return n.childNodes[0].nodeValue.trim();
                n.childNodes.forEach(c => {
                    if(c.nodeName==='#text') return;
                    const v = parse(c);
                    if(o[c.nodeName]) { if(!Array.isArray(o[c.nodeName])) o[c.nodeName]=[o[c.nodeName]]; o[c.nodeName].push(v); }
                    else o[c.nodeName] = v;
                });
                return o;
            };
            return parse(doc.documentElement);
        }

        // JSON to XML
        function jsonToXml(o) {
            const toXml = (obj, tag) => {
                if(obj===null || typeof obj!=='object') return `<${tag}>${obj}</${tag}>`;
                if(Array.isArray(obj)) return obj.map(i=>toXml(i, 'item')).join('');
                let xml = '';
                for(let k in obj) xml += toXml(obj[k], k);
                return tag ? `<${tag}>${xml}</${tag}>` : xml;
            }
            return `<root>${toXml(o, '')}</root>`;
        }

        // Basic JSON to YAML
        function jsonToYaml(o, indent=0) {
            const sp = ' '.repeat(indent);
            if(typeof o!=='object' || o===null) return String(o);
            let y = '';
            if(Array.isArray(o)) {
                o.forEach(i => y += `${sp}- ${typeof i==='object' ? '\n'+jsonToYaml(i, indent+2) : i}\n`);
            } else {
                for(let k in o) y += `${sp}${k}: ${typeof o[k]==='object' ? '\n'+jsonToYaml(o[k], indent+2) : o[k]}\n`;
            }
            return y.trim();
        }
    </script>
</body>
</html>