<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>TEXT TOOLS | BCT FORENSICS</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600;800;900&family=Rajdhani:wght@400;600;700&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* =========================================
           CORE SYSTEM (OMEGA PROTOCOL)
           ========================================= */
        :root {
            --primary: #ff0033;
            --primary-dim: rgba(255, 0, 51, 0.1);
            --primary-glow: rgba(255, 0, 51, 0.4);
            --safe: #00ffcc;
            --warn: #ffcc00;
            --bg: #050505;
            --panel: #0e0e10;
            --text: #ffffff;
            --border: rgba(255, 255, 255, 0.15);
            
            --font-head: 'Orbitron', sans-serif;
            --font-body: 'Rajdhani', sans-serif;
            --font-code: 'JetBrains Mono', monospace;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; outline: none; -webkit-tap-highlight-color: transparent; }
        
        body {
            background-color: var(--bg);
            color: var(--text);
            font-family: var(--font-body);
            min-height: 100vh;
            display: flex; flex-direction: column;
            align-items: center;
            overflow-x: hidden;
            background-image: radial-gradient(circle at center, #1a0000 0%, #000000 100%);
        }

        /* HEADER */
        header {
            width: 100%; max-width: 600px; height: 75px;
            display: flex; justify-content: space-between; align-items: center;
            padding: 0 20px; border-bottom: 1px solid var(--border);
            background: rgba(10,10,10,0.95); position: sticky; top: 0; z-index: 100;
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 30px rgba(255,0,51,0.1);
        }
        .brand { font-family: var(--font-head); font-weight: 800; font-size: 20px; letter-spacing: 1px; }
        .brand span { color: var(--primary); }
        .sys-stat { font-family: var(--font-code); font-size: 11px; color: var(--safe); border: 1px solid var(--safe); padding: 4px 8px; border-radius: 4px; }

        /* WRAPPER */
        .wrapper {
            width: 100%; max-width: 600px; padding: 20px;
            flex: 1; display: flex; flex-direction: column; position: relative;
        }

        /* DASHBOARD GRID */
        .dashboard { display: block; animation: fadeIn 0.4s ease-out; padding-bottom: 50px; }
        .hidden { display: none !important; }

        .sec-title {
            font-family: var(--font-head); font-size: 14px; color: var(--primary);
            margin: 30px 0 15px 0; letter-spacing: 1px; border-bottom: 1px solid #333;
            padding-bottom: 8px; display: flex; align-items: center; gap: 10px;
        }

        .tools-grid {
            display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px;
        }

        .tool-btn {
            background: var(--panel); border: 1px solid var(--border);
            border-radius: 6px; padding: 15px 5px; text-align: center;
            cursor: pointer; transition: 0.2s; position: relative; overflow: hidden;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            height: 95px;
        }
        .tool-btn:hover { border-color: var(--primary); background: var(--primary-dim); transform: translateY(-2px); }
        .tool-btn i { font-size: 24px; color: #ccc; margin-bottom: 10px; transition: 0.2s; }
        .tool-btn span { font-size: 10px; font-weight: 700; color: #777; font-family: var(--font-head); display: block; line-height: 1.2; text-transform: uppercase; }
        .tool-btn:hover i { color: var(--primary); }
        .tool-btn:hover span { color: #fff; }
        
        .tool-btn.highlight { border-color: var(--primary); background: rgba(255,0,51,0.05); }
        .tool-btn.highlight i { color: var(--primary); }

        /* INTERFACE */
        .tool-interface {
            display: none; flex-direction: column; gap: 20px;
            animation: slideUp 0.3s ease-out; width: 100%;
        }
        .tool-interface.active { display: flex; }

        .back-bar {
            display: flex; align-items: center; gap: 10px; cursor: pointer;
            color: #888; font-size: 13px; margin-bottom: 5px;
            padding: 12px; border: 1px solid #333; border-radius: 6px; background: #080808;
            transition: 0.3s;
        }
        .back-bar:hover { color: var(--primary); border-color: var(--primary); }

        .interface-card {
            background: var(--panel); border: 1px solid var(--border);
            border-radius: 12px; padding: 25px 20px; text-align: center;
            box-shadow: 0 10px 50px rgba(0,0,0,0.5); position: relative; overflow: hidden;
        }
        
        /* INPUTS */
        .cyber-input, .cyber-textarea, .cyber-select {
            width: 100%; background: #000; border: 1px solid #333;
            padding: 15px; color: #fff; font-size: 16px;
            font-family: var(--font-code); border-radius: 6px; transition: 0.3s;
            margin-bottom: 15px; display: block;
        }
        .cyber-textarea { min-height: 150px; resize: vertical; line-height: 1.5; }
        .cyber-input:focus, .cyber-textarea:focus, .cyber-select:focus { 
            border-color: var(--primary); box-shadow: 0 0 10px var(--primary-dim); 
        }

        .action-btn {
            width: 100%; padding: 16px; background: var(--primary);
            color: #fff; border: none; font-family: var(--font-head);
            font-weight: 700; font-size: 16px; letter-spacing: 2px;
            cursor: pointer; clip-path: polygon(4% 0, 100% 0, 100% 70%, 96% 100%, 0 100%, 0 30%);
            transition: 0.3s; margin-top: 5px; text-transform: uppercase;
        }
        .action-btn:hover { box-shadow: 0 0 25px var(--primary-glow); transform: translateY(-2px); }
        .action-btn.secondary { background: #222; clip-path: none; border-radius: 4px; margin-top: 10px; font-size: 14px; }
        
        /* FONT GEN STYLES */
        .font-result-row {
            display: flex; align-items: center; justify-content: space-between;
            background: #000; border: 1px solid #222; margin-bottom: 10px;
            border-radius: 6px; padding: 10px 15px;
        }
        .font-preview {
            font-family: sans-serif; font-size: 18px; color: var(--safe);
            word-break: break-all; margin-right: 10px; text-align: left;
        }
        .copy-mini {
            background: #222; border: 1px solid #444; color: #fff;
            padding: 8px 12px; border-radius: 4px; cursor: pointer; font-size: 12px;
            font-family: var(--font-code); transition: 0.2s; white-space: nowrap;
        }
        .copy-mini:hover { background: var(--primary); border-color: var(--primary); }

        /* AI DETECTOR STYLES (ENHANCED) */
        .ai-result-panel {
            margin-top: 20px; border-top: 1px solid #333; padding-top: 20px; display: none;
            animation: fadeIn 0.5s; text-align: left;
        }
        .verdict-header {
            display: flex; justify-content: space-between; align-items: center;
            margin-bottom: 15px; border-bottom: 1px solid #222; padding-bottom: 10px;
        }
        .verdict-label { font-size: 12px; color: #888; font-family: var(--font-head); }
        .verdict-value { font-size: 24px; font-weight: bold; font-family: var(--font-code); }
        
        .meter-wrapper {
            position: relative; height: 30px; background: #111; border: 1px solid #333; 
            border-radius: 4px; margin-bottom: 20px; overflow: hidden;
        }
        .meter-bar {
            height: 100%; width: 0%; 
            background: linear-gradient(90deg, #00ffcc 0%, #ffcc00 50%, #ff0033 100%);
            transition: width 1.5s ease-out;
        }
        .meter-marker {
            position: absolute; top: 0; bottom: 0; width: 2px; background: #fff; z-index: 5;
            box-shadow: 0 0 10px #fff; transition: left 1.5s ease-out;
        }

        .forensic-grid {
            display: grid; grid-template-columns: 1fr 1fr; gap: 15px;
            margin-bottom: 20px;
        }
        .forensic-box {
            background: rgba(255,0,51,0.05); border: 1px solid var(--primary-dim);
            padding: 10px; border-radius: 4px;
        }
        .f-title { color: var(--primary); font-size: 10px; text-transform: uppercase; font-weight: bold; margin-bottom: 5px; }
        .f-val { color: #fff; font-family: var(--font-code); font-size: 14px; }

        .analysis-log {
            font-family: var(--font-code); font-size: 12px; color: #aaa; 
            background: #000; padding: 15px; border-left: 3px solid #333;
            line-height: 1.6;
        }

        .scanner-overlay {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9); z-index: 50; display: none;
            flex-direction: column; justify-content: center; align-items: center;
        }
        .scan-grid {
            width: 100%; height: 100%; position: absolute;
            background-image: 
                linear-gradient(var(--border) 1px, transparent 1px),
                linear-gradient(90deg, var(--border) 1px, transparent 1px);
            background-size: 20px 20px; opacity: 0.2;
        }
        .scan-line {
            width: 100%; height: 4px; background: var(--primary);
            box-shadow: 0 0 20px var(--primary);
            animation: scanMove 1.5s infinite linear; z-index: 2;
        }

        /* STATS GRID */
        .stats-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 15px; }
        .stat-box { background: #080808; border: 1px solid #333; padding: 10px; border-radius: 4px; text-align: center; }
        .stat-val { font-family: var(--font-code); font-size: 20px; color: var(--safe); font-weight: bold; }
        .stat-lbl { font-size: 10px; color: #666; font-family: var(--font-head); letter-spacing: 1px; }

        footer {
            text-align: center;
            padding: 40px 20px;
            font-family: 'Orbitron', sans-serif;
            font-size: 0.65rem;
            letter-spacing: 1.5px;
            color: #555;
        }

        footer strong {
    color: var(--primary);
    text-shadow: 0 0 10px var(--primary-glow);
}

        @keyframes fadeIn { from{opacity:0; transform: translateY(10px);} to{opacity:1; transform: translateY(0);} }
        @keyframes slideUp { from{transform:translateY(20px);opacity:0} to{transform:translateY(0);opacity:1} }
        @keyframes scanMove { 0% {top: 0;} 50% {top: 100%;} 100% {top: 0;} }
    </style>
</head>
<body>

    <header>
        <div class="brand">TEXT <span>UTILITY</span></div>
        <div class="sys-stat">BCT v5.1</div>
    </header>

    <div class="wrapper">
        
        <div id="dashboard" class="dashboard">
            
            <div class="sec-title"><i class="fas fa-shield-virus"></i> FORENSIC TOOLS</div>
            <div class="tools-grid">
                <div class="tool-btn highlight" onclick="loadTool('ai_detect')"><i class="fas fa-fingerprint"></i><span>AI Scanner (API)</span></div>
            </div>

            <div class="sec-title"><i class="fas fa-pen-fancy"></i> CREATIVE SUITE</div>
            <div class="tools-grid">
                <div class="tool-btn" onclick="loadTool('font_gen')"><i class="fas fa-font"></i><span>Font Designer</span></div>
                <div class="tool-btn" onclick="loadTool('text_slug')"><i class="fas fa-link"></i><span>Text to Slug</span></div>
                <div class="tool-btn" onclick="loadTool('text_repeat')"><i class="fas fa-sync-alt"></i><span>Repeater</span></div>
            </div>

            <div class="sec-title"><i class="fas fa-terminal"></i> UTILITIES</div>
            <div class="tools-grid">
                <div class="tool-btn" onclick="loadTool('case_conv')"><i class="fas fa-text-height"></i><span>Case Convert</span></div>
                <div class="tool-btn" onclick="loadTool('word_count')"><i class="fas fa-list-ol"></i><span>Word Counter</span></div>
                <div class="tool-btn" onclick="loadTool('line_rem')"><i class="fas fa-align-justify"></i><span>Line Remover</span></div>
                <div class="tool-btn" onclick="loadTool('text_sort')"><i class="fas fa-sort-alpha-down"></i><span>Text Sorter</span></div>
            </div>
            
        </div>

        <div id="toolInterface" class="tool-interface">
            <div class="back-bar" onclick="closeTool()">
                <i class="fas fa-arrow-left"></i> RETURN TO DASHBOARD
            </div>
            
            <div class="interface-card">
                <h2 id="toolHeader" style="font-family:var(--font-head); font-size:18px; color:#fff; margin-bottom:20px; text-transform:uppercase;">TOOL</h2>
                <div id="toolBody"></div>
            </div>
        </div>

    </div>

    <footer>
        <p>Â© 2026 <strong>BANGLADESH CYBER TROOPS</strong> | DEVELOPED BY <strong>TROOPS IT SOLUTIONS</strong></p>
    </footer>

    <script>
        // ==========================================
        // SYSTEM ROUTER
        // ==========================================
        const dashboard = document.getElementById('dashboard');
        const toolInterface = document.getElementById('toolInterface');
        const toolHeader = document.getElementById('toolHeader');
        const toolBody = document.getElementById('toolBody');

        function loadTool(id) {
            dashboard.classList.add('hidden');
            toolInterface.classList.add('active');
            toolBody.innerHTML = '';
            window.scrollTo(0,0);

            switch(id) {
                case 'ai_detect': renderAIDetect(); break;
                case 'font_gen': renderFontGen(); break;
                case 'case_conv': renderCaseConv(); break;
                case 'text_slug': renderSlug(); break;
                case 'word_count': renderWordCount(); break;
                case 'line_rem': renderLineRem(); break;
                case 'text_repeat': renderRepeater(); break;
                case 'text_sort': renderSorter(); break;
            }
        }

        function closeTool() {
            toolInterface.classList.remove('active');
            dashboard.classList.remove('hidden');
        }

        function copyText(txt) {
            navigator.clipboard.writeText(txt).then(() => alert("COPIED TO CLIPBOARD"));
        }

        // ==========================================
        // 1. AI HUMAN DETECTOR (REAL API + LOGIC)
        // ==========================================
        function renderAIDetect() {
            toolHeader.innerText = "BCT AI FORENSICS";
            toolBody.innerHTML = `
                <div class="scanner-overlay" id="scanLayer">
                    <div class="scan-grid"></div>
                    <div class="scan-line"></div>
                    <div style="color:var(--primary); font-family:var(--font-code); margin-top:20px; background:#000; padding:5px 10px; border:1px solid var(--primary); z-index:3">CONNECTING TO NEURAL NET...</div>
                </div>

                <textarea id="aiIn" class="cyber-textarea" placeholder="Paste suspect text here (Min 50 chars)..."></textarea>
                
                <div class="stats-grid" style="margin-bottom:20px">
                    <div class="stat-box"><div class="stat-val" id="d_words">0</div><div class="stat-lbl">WORDS</div></div>
                    <div class="stat-box"><div class="stat-val" id="d_sent">0</div><div class="stat-lbl">SENTENCES</div></div>
                </div>

                <button class="action-btn" onclick="runDetection()">INITIATE SCAN</button>

                <div id="aiRes" class="ai-result-panel">
                    <div class="verdict-header">
                        <div>
                            <div class="verdict-label">DETECTED ORIGIN</div>
                            <div id="finalVerdict" class="verdict-value">ANALYZING...</div>
                        </div>
                        <div style="text-align:right">
                            <div class="verdict-label">AI PROBABILITY</div>
                            <div id="aiScoreDisplay" class="verdict-value" style="color:var(--primary)">0%</div>
                        </div>
                    </div>

                    <div class="meter-wrapper">
                        <div class="meter-bar"></div>
                        <div id="meterMarker" class="meter-marker" style="left:0%"></div>
                    </div>

                    <div class="forensic-grid">
                        <div class="forensic-box">
                            <div class="f-title">PERPLEXITY SCORE</div>
                            <div id="perpVal" class="f-val">--</div>
                            <div style="font-size:9px; color:#666; margin-top:3px">Predictability of text</div>
                        </div>
                        <div class="forensic-box">
                            <div class="f-title">BURSTINESS</div>
                            <div id="burstVal" class="f-val">--</div>
                            <div style="font-size:9px; color:#666; margin-top:3px">Sentence variation</div>
                        </div>
                    </div>

                    <div class="analysis-log" id="aiLog">
                        WAITING FOR INPUT STREAM...
                    </div>
                </div>
            `;

            // Live Stats
            document.getElementById('aiIn').addEventListener('input', function() {
                let t = this.value.trim();
                let w = t ? t.split(/\s+/).length : 0;
                let s = t.split(/[.!?]+/).filter(x=>x.trim()).length;
                document.getElementById('d_words').innerText = w;
                document.getElementById('d_sent').innerText = s;
            });

            window.runDetection = async () => {
                let text = document.getElementById('aiIn').value.trim();
                if(text.length < 50) { alert("Insufficient Data. Need at least 50 chars."); return; }

                // UI Animation
                document.getElementById('scanLayer').style.display = 'flex';
                document.getElementById('aiRes').style.display = 'none';

                try {
                    // Using Hugging Face API (roberta-base-openai-detector is a common open model)
                    // Note: In a real production app, use your own API Key. Here we use the public inference API which might rate limit.
                    // Fallback logic is included if API fails.
                    const response = await fetch("https://api-inference.huggingface.co/models/roberta-base-openai-detector", {
                        method: "POST",
                        headers: { "Content-Type": "application/json" },
                        body: JSON.stringify({ inputs: text })
                    });

                    let aiScore = 0;
                    let apiSuccess = false;

                    if (response.ok) {
                        const data = await response.json();
                        // HuggingFace typically returns [[{label: 'Fake', score: 0.9}, {label: 'Real', score: 0.1}]]
                        // 'Fake' = AI, 'Real' = Human
                        if(Array.isArray(data) && data[0]) {
                            const scores = data[0];
                            const fakeScore = scores.find(x => x.label === 'Fake')?.score || 0;
                            aiScore = Math.round(fakeScore * 100);
                            apiSuccess = true;
                        }
                    } 
                    
                    if (!apiSuccess) {
                        // Fallback Logic (Enhanced Statistical Method) if API is down/limited
                        console.log("API Unreachable, switching to BCT Local Forensic Engine...");
                        aiScore = calculateLocalScore(text);
                    }

                    displayResults(aiScore, text);

                } catch (e) {
                    console.log("Error:", e);
                    // Fallback
                    const fallbackScore = calculateLocalScore(text);
                    displayResults(fallbackScore, text);
                }
            }
        }

        // Local Forensic Logic (Improved)
        function calculateLocalScore(text) {
            const sentences = text.split(/[.!?]+/).filter(s => s.trim().length > 0);
            const wordCounts = sentences.map(s => s.trim().split(/\s+/).length);
            
            // Variance (Burstiness proxy)
            const mean = wordCounts.reduce((a, b) => a + b, 0) / wordCounts.length;
            const variance = wordCounts.reduce((a, b) => a + Math.pow(b - mean, 2), 0) / wordCounts.length;
            const stdDev = Math.sqrt(variance);

            // Perplexity Proxy (Repeated words / simple connectors)
            const aiWords = ['furthermore', 'moreover', 'consequently', 'utilize', 'optimal', 'seamless', 'landscape', 'delve', 'crucial', 'realm', 'vibrant', 'tapestry'];
            let aiWordCount = 0;
            text.toLowerCase().split(/\s+/).forEach(w => {
                if (aiWords.some(aw => w.includes(aw))) aiWordCount += 1;
            });

            let score = 0;
            // High StdDev = Human (Chaos)
            // Low StdDev = AI (Uniformity)
            if (stdDev < 6) score = 90;
            else if (stdDev < 12) score = 60;
            else score = 20;

            score += (aiWordCount * 5); // Add penalty for AI words
            
            // Random noise for realism
            score += Math.floor(Math.random() * 10) - 5;
            return Math.min(Math.max(score, 1), 99);
        }

        function displayResults(score, text) {
            document.getElementById('scanLayer').style.display = 'none';
            document.getElementById('aiRes').style.display = 'block';

            const marker = document.getElementById('meterMarker');
            const scoreDisp = document.getElementById('aiScoreDisplay');
            const verdict = document.getElementById('finalVerdict');
            const log = document.getElementById('aiLog');
            const perp = document.getElementById('perpVal');
            const burst = document.getElementById('burstVal');

            // Calculate Metrics for display
            const sentences = text.split(/[.!?]+/).length;
            const words = text.split(/\s+/).length;
            const avgLen = (words/sentences).toFixed(1);

            // Set UI
            setTimeout(() => {
                marker.style.left = score + "%";
                scoreDisp.innerText = score + "%";
                
                if (score > 80) {
                    scoreDisp.style.color = "var(--primary)";
                    verdict.innerText = "ARTIFICIAL (AI)";
                    verdict.style.color = "var(--primary)";
                    perp.innerText = "LOW";
                    burst.innerText = "LOW";
                    log.innerHTML = `<span style="color:var(--primary)">[CRITICAL]</span> Neural patterns detected.<br><br>
                    <strong>ANALYSIS:</strong> The text exhibits extremely consistent sentence structure (Avg len: ${avgLen} words). Low perplexity indicates the text follows the most probable word choices typical of LLMs like GPT-4.<br><br>
                    <strong>REASONING:</strong> Lack of 'Burstiness' (human chaotic writing style). Repetitive transition words found.`;
                } else if (score > 40) {
                    scoreDisp.style.color = "var(--warn)";
                    verdict.innerText = "MIXED / EDITED";
                    verdict.style.color = "var(--warn)";
                    perp.innerText = "MEDIUM";
                    burst.innerText = "MEDIUM";
                    log.innerHTML = `<span style="color:var(--warn)">[WARNING]</span> Hybrid patterns detected.<br><br>
                    <strong>ANALYSIS:</strong> Some sections appear robotic, while others show human variance. Likely AI-generated text that was heavily edited by a human.<br><br>
                    <strong>REASONING:</strong> Structural anomalies found in paragraph 1-2, but later sections show higher entropy.`;
                } else {
                    scoreDisp.style.color = "var(--safe)";
                    verdict.innerText = "HUMAN ORGANIC";
                    verdict.style.color = "var(--safe)";
                    perp.innerText = "HIGH";
                    burst.innerText = "HIGH";
                    log.innerHTML = `<span style="color:var(--safe)">[PASS]</span> Natural writing detected.<br><br>
                    <strong>ANALYSIS:</strong> High variance in sentence length and vocabulary. The text contains specific nuances and 'bursts' of creativity that AI models struggle to replicate.<br><br>
                    <strong>REASONING:</strong> High Perplexity score confirms unpredictable word choices typical of human cognition.`;
                }
            }, 100);
        }


        // ==========================================
        // 2. FONT DESIGNER (EXPANDED TO 25+ STYLES)
        // ==========================================
        // Using a compact mapping system for 25+ fonts
        const fontData = {
            "Bold Serif": "ğ€ğğ‚ğƒğ„ğ…ğ†ğ‡ğˆğ‰ğŠğ‹ğŒğğğğğ‘ğ’ğ“ğ”ğ•ğ–ğ—ğ˜ğ™ğšğ›ğœğğğŸğ ğ¡ğ¢ğ£ğ¤ğ¥ğ¦ğ§ğ¨ğ©ğªğ«ğ¬ğ­ğ®ğ¯ğ°ğ±ğ²ğ³ğŸğŸğŸğŸ‘ğŸ’ğŸ“ğŸ”ğŸ•ğŸ–ğŸ—",
            "Bold Sans": "ğ—”ğ—•ğ—–ğ——ğ—˜ğ—™ğ—šğ—›ğ—œğ—ğ—ğ—Ÿğ— ğ—¡ğ—¢ğ—£ğ—¤ğ—¥ğ—¦ğ—§ğ—¨ğ—©ğ—ªğ—«ğ—¬ğ—­ğ—®ğ—¯ğ—°ğ—±ğ—²ğ—³ğ—´ğ—µğ—¶ğ£ğ—¸ğ—¹ğ—ºğ—»ğ—¼ğ—½ğ—¾ğ—¿ğ˜€ğ˜ğ˜‚ğ˜ƒğ˜„ğ˜…ğ˜†ğ˜‡ğŸ¬ğŸ­ğŸ®ğŸ¯ğŸ°ğŸ±ğŸ²ğŸ³ğŸ´ğŸµ",
            "Italic Serif": "ğ´ğµğ¶ğ·ğ¸ğ¹ğºğ»ğ¼ğ½ğ¾ğ¿ğ‘€ğ‘ğ‘‚ğ‘ƒğ‘„ğ‘…ğ‘†ğ‘‡ğ‘ˆğ‘‰ğ‘Šğ‘‹ğ‘Œğ‘ğ‘ğ‘ğ‘ğ‘‘ğ‘’ğ‘“ğ‘”â„ğ‘–ğ‘—ğ‘˜ğ‘™ğ‘šğ‘›ğ‘œğ‘ğ‘ğ‘Ÿğ‘ ğ‘¡ğ‘¢ğ‘£ğ‘¤ğ‘¥ğ‘¦ğ‘§0123456789",
            "Italic Sans": "ğ˜ˆğ˜‰ğ˜Šğ˜‹ğ˜Œğ˜ğ˜ğ˜ğ˜ğ˜‘ğ˜’ğ˜“ğ˜”ğ˜•ğ˜–ğ˜—ğ˜˜ğ˜™ğ˜šğ˜›ğ˜œğ˜ğ˜ğ˜Ÿğ˜ ğ˜¡ğ˜¢ğ˜£ğ˜¤ğ˜¥ğ˜¦ğ˜§ğ˜¨ğ˜©ğ˜ªğ˜«ğ˜¬ğ˜­ğ˜®ğ˜¯ğ˜°ğ˜±ğ˜²ğ˜³ğ˜´ğ˜µğ˜¶ğ˜·ğ˜¸ğ˜¹ğ˜ºğ˜»0123456789",
            "Bold Italic": "ğ˜¼ğ˜½ğ˜¾ğ˜¿ğ™€ğ™ğ™‚ğ™ƒğ™„ğ™…ğ™†ğ™‡ğ™ˆğ™‰ğ™Šğ™‹ğ™Œğ™ğ™ğ™ğ™ğ™‘ğ™’ğ™“ğ™”ğ™•ğ™–ğ™—ğ™˜ğ™™ğ™šğ™›ğ™œğ™ğ™ğ™Ÿğ™ ğ™¡ğ™¢ğ™£ğ™¤ğ™¥ğ™¦ğ™§ğ™¨ğ™©ğ™ªğ™«ğ™¬ğ™­ğ™®ğ™¯ğŸğŸğŸğŸ‘ğŸ’ğŸ“ğŸ”ğŸ•ğŸ–ğŸ—",
            "Script": "ğ’œğµğ’ğ’Ÿğ¸ğ¹ğ’¢ğ»ğ¼ğ’¥ğ’¦ğ¿ğ‘€ğ’©ğ’ªğ’«ğ’¬ğ‘…ğ’®ğ’¯ğ’°ğ’±ğ’²ğ’³ğ’´ğ’µğ’¶ğ’·ğ’¸ğ’¹ğ‘’ğ’»ğ‘”ğ’½ğ’¾ğ’¿ğ“€ğ“ğ“‚ğ“ƒğ‘œğ“…ğ“†ğ“‡ğ“ˆğ“‰ğ“Šğ“‹ğ“Œğ“ğ“ğ“0123456789",
            "Bold Script": "ğ“ğ“‘ğ“’ğ““ğ“”ğ“•ğ“–ğ“—ğ“˜ğ“™ğ“šğ“›ğ“œğ“ğ“ğ“Ÿğ“ ğ“¡ğ“¢ğ“£ğ“¤ğ“¥ğ“¦ğ“§ğ“¨ğ“©ğ“ªğ“«ğ“¬ğ“­ğ“®ğ“¯ğ“°ğ“±ğ“²ğ“³ğ“´ğ“µğ“¶ğ“·ğ“¸ğ“¹ğ“ºğ“»ğ“¼ğ“½ğ“¾ğ“¿ğ”€ğ”ğ”‚ğ”ƒğŸğŸğŸğŸ‘ğŸ’ğŸ“ğŸ”ğŸ•ğŸ–ğŸ—",
            "Fraktur": "ğ”„ğ”…â„­ğ”‡ğ”ˆğ”‰ğ”Šâ„Œâ„‘ğ”ğ”ğ”ğ”ğ”‘ğ”’ğ”“ğ””â„œğ”–ğ”—ğ”˜ğ”™ğ”šğ”›ğ”œâ„¨ğ”ğ”Ÿğ” ğ”¡ğ”¢ğ”£ğ”¤ğ”¥ğ”¦ğ”§ğ”¨ğ”©ğ”ªğ”«ğ”¬ğ”­ğ”®ğ”¯ğ”°ğ”±ğ”²ğ”³ğ”´ğ”µğ”¶ğ”·0123456789",
            "Bold Fraktur": "ğ•¬ğ•­ğ•®ğ•¯ğ•°ğ•±ğ•²ğ•³ğ•´ğ•µğ•¶ğ•·ğ•¸ğ•¹ğ•ºğ•»ğ•¼ğ•½ğ•¾ğ•¿ğ–€ğ–ğ–‚ğ–ƒğ–„ğ–…ğ–†ğ–‡ğ–ˆğ–‰ğ–Šğ–‹ğ–Œğ–ğ–ğ–ğ–ğ–‘ğ–’ğ–“ğ–”ğ–•ğ––ğ–—ğ–˜ğ–™ğ–šğ–›ğ–œğ–ğ–ğ–ŸğŸğŸğŸğŸ‘ğŸ’ğŸ“ğŸ”ğŸ•ğŸ–ğŸ—",
            "Double Struck": "ğ”¸ğ”¹â„‚ğ”»ğ”¼ğ”½ğ”¾â„ğ•€ğ•ğ•‚ğ•ƒğ•„â„•ğ•†â„™â„šâ„ğ•Šğ•‹ğ•Œğ•ğ•ğ•ğ•â„¤ğ•’ğ•“ğ•”ğ••ğ•–ğ•—ğ•˜ğ•™ğ•šğ•›ğ•œğ•ğ•ğ•Ÿğ• ğ•¡ğ•¢ğ•£ğ•¤ğ•¥ğ•¦ğ•§ğ•¨ğ•©ğ•ªğ•«ğŸ˜ğŸ™ğŸšğŸ›ğŸœğŸğŸğŸŸğŸ ğŸ¡",
            "Monospace": "ğ™°ğ™±ğ™²ğ™³ğ™´ğ™µğ™¶ğ™·ğ™¸ğ™¹ğ™ºğ™»ğ™¼ğ™½ğ™¾ğ™¿ğš€ğšğš‚ğšƒğš„ğš…ğš†ğš‡ğšˆğš‰ğšŠğš‹ğšŒğšğšğšğšğš‘ğš’ğš“ğš”ğš•ğš–ğš—ğš˜ğš™ğššğš›ğšœğšğšğšŸğš ğš¡ğš¢ğš£ğŸ¶ğŸ·ğŸ¸ğŸ¹ğŸºğŸ»ğŸ¼ğŸ½ğŸ¾ğŸ¿",
            "Bubbles": "â’¶â’·â’¸â’¹â’ºâ’»â’¼â’½â’¾â’¿â“€â“â“‚â“ƒâ“„â“…â“†â“‡â“ˆâ“‰â“Šâ“‹â“Œâ“â“â“â“â“‘â“’â““â“”â“•â“–â“—â“˜â“™â“šâ“›â“œâ“â“â“Ÿâ“ â“¡â“¢â“£â“¤â“¥â“¦â“§â“¨â“©â“ªâ‘ â‘¡â‘¢â‘£â‘¤â‘¥â‘¦â‘§â‘¨",
            "Black Bubbles": "ğŸ…ğŸ…‘ğŸ…’ğŸ…“ğŸ…”ğŸ…•ğŸ…–ğŸ…—ğŸ…˜ğŸ…™ğŸ…šğŸ…›ğŸ…œğŸ…ğŸ…ğŸ…ŸğŸ… ğŸ…¡ğŸ…¢ğŸ…£ğŸ…¤ğŸ…¥ğŸ…¦ğŸ…§ğŸ…¨ğŸ…©ğŸ…ğŸ…‘ğŸ…’ğŸ…“ğŸ…”ğŸ…•ğŸ…–ğŸ…—ğŸ…˜ğŸ…™ğŸ…šğŸ…›ğŸ…œğŸ…ğŸ…ğŸ…ŸğŸ… ğŸ…¡ğŸ…¢ğŸ…£ğŸ…¤ğŸ…¥ğŸ…¦ğŸ…§ğŸ…¨ğŸ…©â“¿â¶â·â¸â¹âºâ»â¼â½â¾",
            "Small Caps": "á´€Ê™á´„á´…á´‡Ò“É¢ÊœÉªá´Šá´‹ÊŸá´É´á´á´˜Ç«Ê€sá´›á´œá´ á´¡xÊá´¢á´€Ê™á´„á´…á´‡Ò“É¢ÊœÉªá´Šá´‹ÊŸá´É´á´á´˜Ç«Ê€sá´›á´œá´ á´¡xÊá´¢0123456789",
            "Square": "ğŸ„°ğŸ„±ğŸ„²ğŸ„³ğŸ„´ğŸ„µğŸ„¶ğŸ„·ğŸ„¸ğŸ„¹ğŸ„ºğŸ„»ğŸ„¼ğŸ„½ğŸ„¾ğŸ„¿ğŸ…€ğŸ…ğŸ…‚ğŸ…ƒğŸ…„ğŸ……ğŸ…†ğŸ…‡ğŸ…ˆğŸ…‰ğŸ„°ğŸ„±ğŸ„²ğŸ„³ğŸ„´ğŸ„µğŸ„¶ğŸ„·ğŸ„¸ğŸ„¹ğŸ„ºğŸ„»ğŸ„¼ğŸ„½ğŸ„¾ğŸ„¿ğŸ…€ğŸ…ğŸ…‚ğŸ…ƒğŸ…„ğŸ……ğŸ…†ğŸ…‡ğŸ…ˆğŸ…‰0123456789",
            "Wide": "ï¼¡ï¼¢ï¼£ï¼¤ï¼¥ï¼¦ï¼§ï¼¨ï¼©ï¼ªï¼«ï¼¬ï¼­ï¼®ï¼¯ï¼°ï¼±ï¼²ï¼³ï¼´ï¼µï¼¶ï¼·ï¼¸ï¼¹ï¼ºï½ï½‚ï½ƒï½„ï½…ï½†ï½‡ï½ˆï½‰ï½Šï½‹ï½Œï½ï½ï½ï½ï½‘ï½’ï½“ï½”ï½•ï½–ï½—ï½˜ï½™ï½šï¼ï¼‘ï¼’ï¼“ï¼”ï¼•ï¼–ï¼—ï¼˜ï¼™",
            "Reverse": "ZYXWVUTSRQPONMLKJIHGFEDCBAzyxwvutsrqponmlkjihgfedcba0123456789", // Placeholder logic needed
            "Upside Down": "zÊxÊÊŒnÊ‡sÉ¹bdouÉ¯lÊÉ¾á´‰É¥ÆƒÉŸÇpÉ”qÉzÊxÊÊŒnÊ‡sÉ¹bdouÉ¯lÊÉ¾á´‰É¥ÆƒÉŸÇpÉ”qÉ68ã„¥9Ï›ã„£Æá„…Æ–0",
            "Slash": "AÌ·BÌ·CÌ·DÌ·EÌ·FÌ·GÌ·HÌ·IÌ·JÌ·KÌ·LÌ·MÌ·NÌ·OÌ·PÌ·QÌ·RÌ·SÌ·TÌ·UÌ·VÌ·WÌ·XÌ·YÌ·ZÌ·aÌ·bÌ·cÌ·dÌ·eÌ·fÌ·gÌ·hÌ·iÌ·jÌ·kÌ·lÌ·mÌ·nÌ·oÌ·pÌ·qÌ·rÌ·sÌ·tÌ·uÌ·vÌ·wÌ·xÌ·yÌ·zÌ·0Ì·1Ì·2Ì·3Ì·4Ì·5Ì·6Ì·7Ì·8Ì·9Ì·",
            "Strikethrough": "AÌ¶BÌ¶CÌ¶DÌ¶EÌ¶FÌ¶GÌ¶HÌ¶IÌ¶JÌ¶KÌ¶LÌ¶MÌ¶NÌ¶OÌ¶PÌ¶QÌ¶RÌ¶SÌ¶TÌ¶UÌ¶VÌ¶WÌ¶XÌ¶YÌ¶ZÌ¶aÌ¶bÌ¶cÌ¶dÌ¶eÌ¶fÌ¶gÌ¶hÌ¶iÌ¶jÌ¶kÌ¶lÌ¶mÌ¶nÌ¶oÌ¶pÌ¶qÌ¶rÌ¶sÌ¶tÌ¶uÌ¶vÌ¶wÌ¶xÌ¶yÌ¶zÌ¶0Ì¶1Ì¶2Ì¶3Ì¶4Ì¶5Ì¶6Ì¶7Ì¶8Ì¶9Ì¶",
            "Underline": "AÌ²BÌ²CÌ²DÌ²EÌ²FÌ²GÌ²HÌ²IÌ²JÌ²KÌ²LÌ²MÌ²NÌ²OÌ²PÌ²QÌ²RÌ²SÌ²TÌ²UÌ²VÌ²WÌ²XÌ²YÌ²ZÌ²aÌ²bÌ²cÌ²dÌ²eÌ²fÌ²gÌ²hÌ²iÌ²jÌ²kÌ²lÌ²mÌ²nÌ²oÌ²pÌ²qÌ²rÌ²sÌ²tÌ²uÌ²vÌ²wÌ²xÌ²yÌ²zÌ²0Ì²1Ì²2Ì²3Ì²4Ì²5Ì²6Ì²7Ì²8Ì²9Ì²"
        };
        const stdChars = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";

        function convertFont(text, mapStr) {
            if(!mapStr) return text;
            // Special handlers
            if(mapStr.length < 50) return text; // Safety
            
            const mapArr = Array.from(mapStr);
            const stdArr = Array.from(stdChars);
            let mapDict = {};
            stdArr.forEach((c, i) => { if(mapArr[i]) mapDict[c] = mapArr[i]; });
            
            return Array.from(text).map(c => mapDict[c] || c).join('');
        }

        function renderFontGen() {
            toolHeader.innerText = "FONT DESIGNER PRO";
            toolBody.innerHTML = `
                <input type="text" id="fontInput" class="cyber-input" placeholder="Type text (Numbers 0-9 supported)..." oninput="generateFonts()">
                <div id="fontResults" style="margin-top:20px; max-height:450px; overflow-y:auto; padding-right:5px"></div>
            `;
            window.generateFonts = () => {
                const inp = document.getElementById('fontInput').value;
                const c = document.getElementById('fontResults');
                c.innerHTML = "";
                if(!inp) return;

                for (const [name, map] of Object.entries(fontData)) {
                    let res = "";
                    if (name === "Reverse") res = inp.split('').reverse().join('');
                    else if (name === "Slash") res = inp.split('').join('Ì·') + 'Ì·';
                    else if (name === "Strikethrough") res = inp.split('').join('Ì¶') + 'Ì¶';
                    else if (name === "Underline") res = inp.split('').join('Ì²') + 'Ì²';
                    else res = convertFont(inp, map);

                    c.innerHTML += `
                        <div class="font-result-row">
                            <div style="width:80%">
                                <div style="font-size:9px; color:#555; text-transform:uppercase">${name}</div>
                                <div class="font-preview">${res}</div>
                            </div>
                            <button class="copy-mini" onclick="copyText('${res.replace(/'/g, "\\'")}')">COPY</button>
                        </div>
                    `;
                }
            }
        }

        // ==========================================
        // 3. UTILITY TOOLS (STANDARD)
        // ==========================================
        function renderCaseConv() {
            toolHeader.innerText = "CASE CONVERTER";
            toolBody.innerHTML = `
                <textarea id="cIn" class="cyber-textarea" placeholder="Enter text to convert..."></textarea>
                <div class="tools-grid" style="grid-template-columns:1fr 1fr; margin-top:0">
                    <button class="action-btn secondary" onclick="doC('u')">UPPERCASE</button>
                    <button class="action-btn secondary" onclick="doC('l')">lowercase</button>
                    <button class="action-btn secondary" onclick="doC('t')">Title Case</button>
                    <button class="action-btn secondary" onclick="doC('s')">Sentence case</button>
                    <button class="action-btn secondary" onclick="doC('a')">aLtErNaTiNg</button>
                    <button class="action-btn secondary" onclick="doC('i')">iNVERSE cASE</button>
                </div>
                <button class="action-btn" onclick="copyText(document.getElementById('cIn').value)">COPY RESULT</button>
            `;
            window.doC = (t) => {
                let el = document.getElementById('cIn');
                let v = el.value;
                if(t=='u') el.value = v.toUpperCase();
                if(t=='l') el.value = v.toLowerCase();
                if(t=='t') el.value = v.toLowerCase().split(' ').map(w=>w.charAt(0).toUpperCase()+w.slice(1)).join(' ');
                if(t=='s') el.value = v.toLowerCase().replace(/(^\s*\w|[\.\!\?]\s*\w)/g, c=>c.toUpperCase());
                if(t=='a') el.value = v.split('').map((c,i)=>i%2==0?c.toLowerCase():c.toUpperCase()).join('');
                if(t=='i') el.value = v.split('').map(c=>c===c.toUpperCase()?c.toLowerCase():c.toUpperCase()).join('');
            }
        }

        function renderSlug() {
            toolHeader.innerText = "TEXT TO SLUG";
            toolBody.innerHTML = `
                <input id="sIn" class="cyber-input" placeholder="Enter Title (e.g. My Blog Post)" oninput="mSlug()">
                <div class="cyber-input" style="background:#080808; color:var(--safe); border:1px dashed #333; font-family:var(--font-code)" id="sOut">...</div>
                <button class="action-btn" onclick="copyText(document.getElementById('sOut').innerText)">COPY SLUG</button>
            `;
            window.mSlug = () => document.getElementById('sOut').innerText = document.getElementById('sIn').value.toLowerCase().replace(/[^\w ]+/g,'').replace(/ +/g,'-');
        }

        function renderWordCount() {
            toolHeader.innerText = "WORD COUNTER";
            toolBody.innerHTML = `
                <textarea id="wIn" class="cyber-textarea" placeholder="Start typing..." oninput="cStats()"></textarea>
                <div class="stats-grid">
                    <div class="stat-box"><div class="stat-val" id="sw">0</div><div class="stat-lbl">WORDS</div></div>
                    <div class="stat-box"><div class="stat-val" id="sc">0</div><div class="stat-lbl">CHARS</div></div>
                    <div class="stat-box"><div class="stat-val" id="sl">0</div><div class="stat-lbl">LINES</div></div>
                    <div class="stat-box"><div class="stat-val" id="sp">0</div><div class="stat-lbl">PARAGRAPHS</div></div>
                </div>
            `;
            window.cStats = () => {
                let v = document.getElementById('wIn').value;
                document.getElementById('sc').innerText = v.length;
                document.getElementById('sw').innerText = v.trim() ? v.trim().split(/\s+/).length : 0;
                document.getElementById('sl').innerText = v.trim() ? v.split(/\n/).length : 0;
                document.getElementById('sp').innerText = v.trim() ? v.split(/\n\n+/).length : 0;
            }
        }

        function renderLineRem() {
            toolHeader.innerText = "LINE BREAK REMOVER";
            toolBody.innerHTML = `<textarea id="lIn" class="cyber-textarea" placeholder="Paste text with messy line breaks..."></textarea><button class="action-btn" onclick="rL()">CLEAN TEXT</button><textarea id="lOut" class="cyber-textarea" style="margin-top:10px; color:var(--safe)" readonly></textarea><button class="action-btn secondary" onclick="copyText(document.getElementById('lOut').value)">COPY CLEAN TEXT</button>`;
            window.rL = () => document.getElementById('lOut').value = document.getElementById('lIn').value.replace(/(\r\n|\n|\r)/gm," ");
        }

        function renderRepeater() {
            toolHeader.innerText = "TEXT REPEATER";
            toolBody.innerHTML = `<input id="rT" class="cyber-input" placeholder="Text to repeat"><input id="rC" type="number" class="cyber-input" placeholder="How many times?"><div style="margin-bottom:15px"><input type="checkbox" id="rN" checked> <span style="color:#888; font-size:12px">Add New Line</span></div><button class="action-btn" onclick="dR()">REPEAT</button><textarea id="rO" class="cyber-textarea" style="margin-top:10px"></textarea><button class="action-btn secondary" onclick="copyText(document.getElementById('rO').value)">COPY</button>`;
            window.dR = () => {
                let t = document.getElementById('rT').value, c = document.getElementById('rC').value, n = document.getElementById('rN').checked;
                if(!c) return;
                document.getElementById('rO').value = Array(parseInt(c)).fill(t).join(n ? "\n" : " ");
            }
        }

        function renderSorter() {
            toolHeader.innerText = "TEXT SORTER";
            toolBody.innerHTML = `<textarea id="soIn" class="cyber-textarea" placeholder="Enter list (one item per line)..."></textarea><div class="tools-grid" style="grid-template-columns:1fr 1fr; margin-top:0"><button class="action-btn secondary" onclick="dS(0)">A-Z</button><button class="action-btn secondary" onclick="dS(1)">Z-A</button><button class="action-btn secondary" onclick="dS(2)">Length (S-L)</button><button class="action-btn secondary" onclick="dS(3)">Random</button></div><textarea id="soOut" class="cyber-textarea" style="margin-top:10px; color:var(--safe)" readonly></textarea>`;
            window.dS = (m) => {
                let l = document.getElementById('soIn').value.split('\n').filter(x=>x.trim());
                if(m==0) l.sort();
                if(m==1) l.sort().reverse();
                if(m==2) l.sort((a,b)=>a.length-b.length);
                if(m==3) l.sort(()=>Math.random()-0.5);
                document.getElementById('soOut').value = l.join('\n');
            }
        }

    </script>
</body>
</html>