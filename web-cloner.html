<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BCT Website Cloner | Ultra Fast</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Rajdhani:wght@300;500;700&display=swap');

        :root {
            --primary: #ff0000;
            --primary-glow: #ff4d4d;
            --bg-dark: #0a0a0a;
            --bg-card: #141414;
            --text-white: #ffffff;
            --text-dim: #b3b3b3;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            scrollbar-width: thin;
            scrollbar-color: var(--primary) var(--bg-dark);
        }

        body {
            font-family: 'Rajdhani', sans-serif;
            background-color: var(--bg-dark);
            color: var(--text-white);
            overflow-x: hidden;
            min-height: 100vh;
        }

        /* Full Screen Loader */
        #loader-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.95);
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            backdrop-filter: blur(10px);
        }

        .scanner {
            width: 200px;
            height: 2px;
            background: var(--primary);
            box-shadow: 0 0 20px var(--primary-glow);
            position: relative;
            animation: scan 2s infinite;
        }

        @keyframes scan {
            0% { top: -50px; opacity: 0; }
            50% { opacity: 1; }
            100% { top: 50px; opacity: 0; }
        }

        .loading-text {
            font-family: 'Orbitron', sans-serif;
            color: var(--primary);
            margin-top: 20px;
            letter-spacing: 2px;
            text-transform: uppercase;
        }

        /* Main UI */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            text-align: center;
            padding: 40px 0;
        }

        header h3 {
            font-family: 'Orbitron', sans-serif;
            font-size: clamp(2rem, 8vw, 3.5rem);
            color: var(--primary);
            text-shadow: 0 0 20px rgba(255, 0, 0, 0.5);
            letter-spacing: 2px;
        }

        .input-section {
            background: var(--bg-card);
            border: 1px solid #333;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            margin-bottom: 30px;
            transition: var(--transition);
        }

        .input-section:focus-within {
            border-color: var(--primary);
            box-shadow: 0 0 20px rgba(255, 0, 0, 0.2);
        }

        .input-group {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        input {
            flex: 1;
            min-width: 280px;
            background: #000;
            border: 1px solid #444;
            padding: 15px 20px;
            border-radius: 8px;
            color: white;
            font-size: 1.1rem;
            outline: none;
            transition: var(--transition);
        }

        input:focus {
            border-color: var(--primary);
        }

        button.main-btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 8px;
            font-weight: bold;
            font-family: 'Orbitron', sans-serif;
            cursor: pointer;
            transition: var(--transition);
            text-transform: uppercase;
        }

        button.main-btn:hover {
            background: #cc0000;
            transform: scale(1.05);
            box-shadow: 0 0 20px var(--primary-glow);
        }

        /* Tabs System */
        .tabs {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .tab {
            padding: 12px 25px;
            background: #1a1a1a;
            border: 1px solid #333;
            border-radius: 50px;
            cursor: pointer;
            transition: var(--transition);
            font-weight: bold;
            color: var(--text-dim);
        }

        .tab.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
            box-shadow: 0 0 15px rgba(255, 0, 0, 0.3);
        }

        /* Code Panels */
        .panel {
            display: none;
            background: var(--bg-card);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid #333;
            animation: slideUp 0.4s ease;
        }

        .panel.active { display: block; }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .toolbar {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
            margin-bottom: 15px;
        }

        .btn-tool {
            background: #252525;
            color: white;
            border: 1px solid #444;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.8rem;
            transition: 0.2s;
        }

        .btn-tool:hover {
            border-color: var(--primary);
            color: var(--primary);
        }

        pre {
            background: #050505;
            padding: 20px;
            border-radius: 10px;
            max-height: 500px;
            overflow: auto;
            color: #ff9999;
            font-family: 'Consolas', monospace;
            font-size: 14px;
            line-height: 1.5;
            border-left: 4px solid var(--primary);
        }

        /* Responsive Mobile */
        @media (max-width: 600px) {
            header h1 { font-size: 1.8rem; }
            .input-group { flex-direction: column; }
            button.main-btn { width: 100%; }
            .tabs { gap: 8px; }
            .tab { padding: 8px 15px; font-size: 0.9rem; }
        }
    </style>
</head>
<body>

    <!-- Loader Overlay -->
    <div id="loader-overlay">
        <div class="scanner"></div>
        <div class="loading-text" id="loadStatus">INITIALIZING...</div>
        <div id="fileCount" style="margin-top: 10px; color: var(--text-dim);"></div>
    </div>

    <div class="container">
        <header>
            <h3>WEB CLONER</h3>
            <p style="color: var(--text-dim); margin-top: 10px;">Fastest Frontend Asset Extraction Tool</p>
        </header>

        <div class="input-section">
            <div class="input-group">
                <input type="url" id="targetUrl" placeholder="Enter target website URL (https://...)" required>
                <button class="main-btn" onclick="cloneWebsite()">
                    <i class="fas fa-bolt"></i> Clone Now
                </button>
            </div>
        </div>

        <div class="tabs">
            <div class="tab active" data-target="html-panel">HTML Source</div>
            <div class="tab" data-target="css-panel">CSS Styles</div>
            <div class="tab" data-target="js-panel">JS Scripts</div>
        </div>

        <!-- HTML Panel -->
        <div class="panel active" id="html-panel">
            <div class="toolbar">
                <button class="btn-tool" onclick="copyCode('htmlCode')"><i class="fas fa-copy"></i> Copy</button>
                <button class="btn-tool" onclick="downloadFile('index.html', 'htmlCode')"><i class="fas fa-download"></i> Download</button>
            </div>
            <pre id="htmlCode">// HTML output will appear here...</pre>
        </div>

        <!-- CSS Panel -->
        <div class="panel" id="css-panel">
            <div class="toolbar">
                <button class="btn-tool" onclick="copyCode('cssCode')"><i class="fas fa-copy"></i> Copy</button>
                <button class="btn-tool" onclick="downloadFile('style.css', 'cssCode')"><i class="fas fa-download"></i> Download</button>
            </div>
            <pre id="cssCode">// Combined CSS output will appear here...</pre>
        </div>

        <!-- JS Panel -->
        <div class="panel" id="js-panel">
            <div class="toolbar">
                <button class="btn-tool" onclick="copyCode('jsCode')"><i class="fas fa-copy"></i> Copy</button>
                <button class="btn-tool" onclick="downloadFile('script.js', 'jsCode')"><i class="fas fa-download"></i> Download</button>
            </div>
            <pre id="jsCode">// Combined JS output will appear here...</pre>
        </div>
    </div>

    <script>
        const proxy = "https://api.allorigins.win/raw?url=";

        // Tab Switch Logic
        document.querySelectorAll('.tab').forEach(tab => {
            tab.onclick = () => {
                document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.panel').forEach(p => p.classList.remove('active'));
                tab.classList.add('active');
                document.getElementById(tab.dataset.target).classList.add('active');
            }
        });

        async function cloneWebsite() {
            const url = document.getElementById('targetUrl').value.trim();
            if (!url) return alert("Please enter a valid URL!");

            const loader = document.getElementById('loader-overlay');
            const statusText = document.getElementById('loadStatus');
            const fileCount = document.getElementById('fileCount');

            loader.style.display = 'flex';
            statusText.textContent = "CONNECTING TO TARGET...";

            try {
                // Phase 1: Fetch HTML
                const response = await fetch(proxy + encodeURIComponent(url));
                const html = await response.text();
                document.getElementById('htmlCode').textContent = html;
                
                const parser = new DOMParser();
                const doc = parser.parseFromString(html, 'text/html');

                // Extract CSS & JS URLs
                const cssLinks = Array.from(doc.querySelectorAll('link[rel="stylesheet"]'))
                                    .map(l => new URL(l.getAttribute('href'), url).href);
                const jsLinks = Array.from(doc.querySelectorAll('script[src]'))
                                    .map(s => new URL(s.getAttribute('src'), url).href);

                // Phase 2: Parallel Fetching for Speed
                statusText.textContent = "EXTRACTING ASSETS...";
                fileCount.textContent = `Found ${cssLinks.length} CSS and ${jsLinks.length} JS files`;

                // Fetch all CSS in parallel
                const cssData = await Promise.all(cssLinks.map(link => 
                    fetch(proxy + encodeURIComponent(link)).then(r => r.text()).catch(e => `/* Error loading ${link} */`)
                ));
                document.getElementById('cssCode').textContent = cssData.join("\n\n") || "/* No external CSS found */";

                // Fetch all JS in parallel
                statusText.textContent = "COMPILING SCRIPTS...";
                const jsData = await Promise.all(jsLinks.map(link => 
                    fetch(proxy + encodeURIComponent(link)).then(r => r.text()).catch(e => `/* Error loading ${link} */`)
                ));
                document.getElementById('jsCode').textContent = jsData.join("\n\n") || "/* No external JS found */";

                statusText.textContent = "SUCCESS!";
                setTimeout(() => loader.style.display = 'none', 1000);

            } catch (err) {
                alert("Error cloning site. The site might be blocking requests.");
                loader.style.display = 'none';
            }
        }

        function copyCode(id) {
            const text = document.getElementById(id).textContent;
            navigator.clipboard.writeText(text);
            alert("Code Copied!");
        }

        function downloadFile(filename, id) {
            const text = document.getElementById(id).textContent;
            const blob = new Blob([text], { type: 'text/plain' });
            const element = document.createElement('a');
            element.href = URL.createObjectURL(blob);
            element.download = filename;
            element.click();
        }
    </script>
</body>
</html>